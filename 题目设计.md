# 题目设计文档

## 1. 获取题目

**请求参数：**
```json
{
  "lessonId": "12312",
  "duration": 1800,
  "exerciseTypes": ["listening_comprehension", "..."],
  "token": ""
}
```

## 2. 提交答案

**请求参数：**
```json
{
  "sessionId": "12312",
  "token": "",
  "submission_list": [
    {"exerciseId": "q101", "userAnswer": false, "points": 3, "wrongAttempts": 0},
  ]
}
```

## 3. 基本格式

**返回数据结构：**
```json
{
  "phaseId": "1A",
  "topicId": "1",
  "duration": 1800,
  "count": 10,
  "sessionId": "标识，提交答案时使用",
  "exercises": [
    {
      "exerciseId": "q001",
      "exerciseType": "listening_comprehension",
      "content": {
        "audioUrl": "https://example.com/audio.mp3",
        "options": [
          "A. 讨论工作安排",
          "B. 谈论天气",
          "C. 制定旅行计划",
          "D. 商讨学习计划"
        ]
      },
      "correctAnswer": 0
    }
  ]
}
```

---

## 题型规范

### 3.1 TF 判断题

#### 3.1.1 listen-image

听音看图判断题

```json
"content": {
  "prompt": "请听录音，再看图片，判断陈述是否正确。",
  "audioUrl": "audios/2025/09/23/53/53607e37eb60.wav",
  "listeningText": "同学在教室里看书。",
  "imageUrl": "images/2025/09/23/3d/3dac5accc39635.png"
},
"correctAnswer": true
```

#### 3.1.2 read-image

读词看图判断题

```json
"content": {
  "prompt": "请阅读该词语，再看图片，判断是否匹配。",
  "statement": "这是一张图片",
  "imageUrl": "images/2025/09/23/3d/3dac5accc39635.png"
},
"correctAnswer": true
```

#### 3.1.3 listen-sentence

听音看句判断题

```json
"content": {
  "prompt": "请听录音，判断陈述是否正确。",
  "audioUrl": "audios/2025/09/23/53/53607e37eb60.wav",
  "listeningText": "同学在教室里看书。",
  "statement": "这是一段录音"
},
"correctAnswer": true
```

#### 3.1.4 read-sentence

阅读判断题

```json
"content": {
  "prompt": "请看文章，判断陈述是否正确。",
  "passage": "这是一大段文章文章文章",
  "statement": "你在做这题"
},
"correctAnswer": true
```

---

### 3.2 choice 选择题

#### 3.2.1 listen-image

听音选图题

```json
"content": {
  "prompt": "请听录音，选择正确对应图片",
  "audioUrl": "audios/2025/09/23/53/53607e37eb60.wav",
  "listeningText": "同学在教室里看书。",
  "options": [{"label": "A", "imageUrl": "https://asdasd"}]
},
"correctAnswer": "A"
```

#### 3.2.2 listen-sentence

听音选择题

```json
"content": {
  "prompt": "请听录音，选择正确选项",
  "audioUrl": "audios/2025/09/23/53/53607e37eb60.wav",
  "listeningText": "同学在教室里看书。",
  "question": "题干：小明吃了什么",
  "options": [{"label": "A", "text": "鸡", "pinyin": "ji"}]
},
"correctAnswer": "A"
```

#### 3.2.3 read-sentence

阅读选择题

```json
"content": {
  "prompt": "请看文章，选择正确选项",
  "passage": "这是一段长文本",
  "question": "题干：小明吃了什么",
  "options": [{"label": "A", "text": "鸡", "pinyin": "ji"}]
},
"correctAnswer": "A"
```

---

### 3.3 match 连线配对题

#### 3.3.1 listen-image

听音连图题

```json
"content": {
  "prompt": "请听每条音频，并与正确的图片进行配对。",
  "leftItems": [{"label": "0", "audioUrl": "", "listeningText": ""}],
  "rightItems": [{"label": "A", "imageUrl": ""}]
},
"correctAnswer": {"0": "A", "1": "B"}
```

#### 3.3.2 read-image

读文连图题

```json
"content": {
  "prompt": "请阅读，并与正确的图片进行配对。",
  "leftItems": [{"label": "0", "text": "苹果", "pinyin": "píng guǒ"}],
  "rightItems": [{"label": "A", "imageUrl": ""}]
},
"correctAnswer": {"0": "A", "1": "B"}
```

#### 3.3.3 read-dialog

问答配对题

```json
"content": {
  "prompt": "请将左侧问句与右侧恰当的回答进行配对。",
  "leftItems": [{"label": "0", "text": "你叫什么名字？", "pinyin": "nǐ jiào shén me míng zì"}],
  "rightItems": [{"label": "A", "text": "我叫小明。", "pinyin": "wǒ jiào xiǎo míng"}]
},
"correctAnswer": {"0": "A", "1": "B"}
```

---

### 3.4 order 连词成句与连句成段

```json
"content": {
  "prompt": "连X成X",
  "words/sentences": [
    {"label": "1", "word/sentence": ""}
  ]
},
"correctAnswer": ["1", "2"]
```

---

## 字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| `prompt` | String | 题目提示语/说明 |
| `statement` | String | 描述、说明性质 |
| `question` | String | 题干（选择题的具体问题） |
| `audioUrl` | String | 音频资源路径 |
| `imageUrl` | String | 图片资源路径 |
| `listeningText` | String | 听力文本内容 |
| `passage` | String | 阅读文章内容 |
| `options` | Array | 选项数组 |
| `leftItems` / `rightItems` | Array | 配对题左右两侧的选项 |
| `words` / `sentences` | Array | 排序题的词语/句子数组 |
| `word` / `sentence` | String | 排序题中的词语/句子文本 |
| `correctAnswer` | Boolean/String/Array/Object | 正确答案（根据题型不同而不同） |

**pinyin字段根据数据库是否有选择性传来**